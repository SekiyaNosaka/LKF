###### tags: `技術`

# カルマンフィルタ
誤差を想定した観測値を用いて、とある線形動的システムの状態を推定・制御するアルゴリズム。

難しく言うと、モーメントパラメータ化によって信念が表現される線形ガウスモデルである。
時刻tにおいて、信念は平均$μ_t$と共分散$Σ_t$で表されることになる。

## 実用例
離散的な誤差のある観測のもとで、刻々と時間変化する量を推定するために用いられる。
ただし、いずれも線形動的システム問題である必要がある。

具体的には...
- 人工衛星(ロケットの軌道推定) -> 当アルゴリズムの最初の使われ方
- コンピュータビジョン
- カーナビゲーション  etc...

## 理論
**状態遷移モデル**

$x_t = A_tx_{t-1} + B_tu_t + ε_t$

> $x_t$, $x_{t-1}$：時刻における状態ベクトル
> $u_t$：同時刻での制御ベクトル
> $A_t$, $B_t$：行列 ($n$が状態ベクトル$x_t$の次元数、$m$が制御ベクトル$u_t$の次元数であるとき、
> $A_t=n✕n$の正方行列、$B_t=n✕m$行列)
> $ε_t$：ガウス分布に従う乱数ベクトル (平均0、共分散$R_t$)

**観測モデル**

$z_t =C_tx_t + δ_t$

> $z_t$：計測ベクトル
> $C_t$：行列 ($k$が計測ベクトル$z_t$の次元数であるとき、$C_t=k✕n$行列)
> $δ_t$：ガウス分布に従う乱数ベクトル (平均0、共分散$Q_t$)

## アルゴリズム
$Algorithm　KalmanFilter(μ_{t-1}, Σ_{t-1}, u_t, z_t):$

$1.　\bar{μ}_t = A_tμ_{t-1} + B_tu_t$
$2.　\bar{Σ}_t = A_tΣ_{t-1}A^T_t + R_t$
$3.　K_t = \bar{Σ}_tC^T_t(C_t\bar{Σ}_tC^T_t + Q_t)^{-1}$
$4.　μ_t = \bar{μ}_t + K_t(z_t - C_t\bar{μ}_t)$
$5.　Σ_t = (I - K_tC_t)\bar{Σ}_t$

$return　μ_t, Σ_t$
